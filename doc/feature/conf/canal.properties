#################################################
## Canal Server 全局配置
#################################################

# 服务端口
canal.port = 11111                        # TCP 客户端连接端口
canal.metrics.pull.port = 11112           # Metrics 查询端口

# 运行模式：tcp（直连）、kafka、rocketMQ
canal.serverMode = kafka

# Instance 管理
canal.destinations = core                  # Instance 名称列表，对应 conf/core/ 目录
canal.auto.scan = false                    # 关闭自动扫描
canal.conf.dir = ../conf                   # 配置文件目录

# 数据存储模式
canal.instance.global.spring.xml = classpath:spring/file-instance.xml

#################################################
## Kafka 配置
#################################################
# Kafka 地址（Docker 网络内使用容器名）
kafka.bootstrap.servers = kafka:9092
kafka.acks = all                           # 消息确认级别
kafka.retries = 0                          # 重试次数

#################################################
## MQ 模式配置（canal.serverMode=kafka 时生效）
#################################################
canal.mq.servers = kafka:9092
canal.mq.retries = 0
canal.mq.batchSize = 16384                 # 批量发送大小
canal.mq.maxRequestSize = 1048576          # 最大请求大小 1MB
canal.mq.flatMessage = true                # 扁平化消息格式（JSON）
canal.mq.compressionType = none            # 压缩类型
canal.mq.acks = all                        # 消息确认级别
