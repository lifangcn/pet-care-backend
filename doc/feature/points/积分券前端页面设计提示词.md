# 积分和积分券前端页面设计

## 功能概述

用户注册后自动获得新人券（直接到账），也可通过运营活动抢券后在积分页面手动领取。

## API接口

### 用户端接口

| 接口 | 方法 | 说明 |
| ----- | ------ | ----- |
| `/points/account` | GET | 查询积分账户（可用积分、累计积分、等级） |
| `/points/records/page` | POST | 分页查询积分流水记录 |
| `/points/coupons/page` | POST | 分页查询用户的券列表（状态筛选：0未使用/1已使用/2已过期） |
| `/points/coupon/redeem` | POST | 领取代金券（充值积分到账户） |
| `/points/coupon/grab` | POST | 抢劵（发放未使用券） |

### 运营端接口

| 接口 | 方法 | 说明 |
| ----- | ------ | ----- |
| `/internal/coupon/set-stock` | POST | 设置券库存（传入templateId和stock） |

## 页面设计要求

### 积分账户页面

**布局**：
- 顶部：积分总览卡片
  - 可用积分（大字显示）
  - 累计积分（小字灰色说明）
  - 当前等级（Lv1-10 + 称号）
- 中部：积分获取记录（分页列表）
  - 列表展示：时间、行为类型、积分变动（+绿色/-红色）
- 底部：Tab切换

**交互**：
- 点击积分记录项显示详情
- 下拉刷新

### 积分券页面

**布局**：
- 顶部：券统计（可用数量/已使用/已过期）
- 中部：券列表（卡片式）
  - 券卡片：面值、有效期、状态标签
  - 未使用券：高亮"领取"按钮
  - 已使用/已过期券：显示使用时间或过期原因

**交互**：
- 点击"领取"按钮 → 弹出确认框 → 确认后积分到账
- 抢劵成功 → Toast提示"抢劵成功，请在券包中查看"
- 下拉刷新

**券状态标签**：
- 未使用：绿色"可领取"
- 已使用：灰色"已使用"
- 已过期：红色"已过期"

### 抢劵活动页面

**布局**：
- 活动头图
- 活动规则说明
- 券信息（面值、有效期、库存）
- "立即抢劵"按钮（大按钮）
- 抢劵进度条

**交互**：
- 点击"立即抢劵" → 调用抢劵接口
- 抢劵成功 → 跳转到"我的券包"页面
- 抢劵失败 → Toast提示"券已抢完"

## 数据字段

### 积分账户响应

```json
{
  "availablePoints": 1500,
  "totalPoints": 5000,
  "level": 2,
  "levelName": "入门铲屎官"
}
```

### 券列表项

```json
{
  "id": 12345,
  "faceValue": 1000,
  "startTime": "2026-02-13T12:00:00",
  "endTime": "2027-02-13T12:00:00",
  "status": 0  // 0未使用 1已使用 2已过期
}
```

## 设计风格要求

- **不要**：紫色/靛蓝色渐变
- **不要**：纯平背景色（必须噪点或渐变）
- **不要**：Hero + 三卡片布局
- **不要**：完美居中对齐
- **不要**：高深专业名词和空话
- **不要**：Emoji作为功能图标
- **不要**：线性动画ease-in-out

## 参考色彩

- 主色：#FF6B35（橙色）
- 辅助色：#FFA726（浅橙）
- 成功色：#52C41A（绿色）
- 失败色：#FF4D4F（红色）
- 背景噪点叠加
